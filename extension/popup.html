<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrustLens</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <img src="icons/icon32.png" alt="TrustLens" class="logo-img">
                <h1>TrustLens</h1>
            </div>
            <p class="subtitle">Community-Powered Misinformation Defense</p>
        </header>

        <div class="current-site" id="currentSite">
            <div class="site-info">
                <div class="domain" id="currentDomain">Loading...</div>
                <div class="rating-display" id="ratingDisplay">
                    <div class="rating-value" id="ratingValue">-</div>
                    <div class="rating-label">Community Rating</div>
                    <div class="votes-count" id="votesCount">0 votes</div>
                </div>
            </div>
            
            <div class="rating-bar">
                <div class="rating-fill" id="ratingFill"></div>
            </div>
            
            <div class="rating-text" id="ratingText">No rating available</div>
        </div>

        <div class="domain-info-section" id="domainInfoSection">
            <h3>Domain Information</h3>
            <div class="domain-details">
                <div class="info-item">
                    <span class="info-label">Source:</span>
                    <span class="info-value" id="ratingSource">TrustLens Database</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Last Updated:</span>
                    <span class="info-value" id="lastUpdated">-</span>
                </div>
            </div>
        </div>

        <div class="status-message" id="statusMessage"></div>
        
        <div class="debug-section" id="debugSection" style="display: none;">
            <h3>Debug Information</h3>
            <div class="debug-info" id="debugInfo">
                <div>Domain: <span id="debugDomain">-</span></div>
                <div>Supabase URL: <span id="debugUrl">-</span></div>
                <div>API Key: <span id="debugKey">-</span></div>
                <div>Connection: <span id="debugConnection">-</span></div>
            </div>
            <button id="debugToggle" class="debug-btn">Hide Debug</button>
        </div>

        <div class="footer">
            <div class="stats">
                <div class="stat">
                    <span class="stat-number" id="totalDomains">-</span>
                    <span class="stat-label">Domains in Database</span>
                </div>
                <div class="stat">
                    <span class="stat-number" id="avgRating">-</span>
                    <span class="stat-label">Average Rating</span>
                </div>
            </div>
            <div class="links">
                <a href="#" id="viewTopRated">Top Rated</a>
                <a href="#" id="viewLowestRated">Lowest Rated</a>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="mock-data.js"></script>
    <script src="popup.js"></script>
</body>
</html>
